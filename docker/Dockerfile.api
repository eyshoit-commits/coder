FROM rust:1.76-slim AS builder
WORKDIR /app
COPY ../.. .
# TODO: implement workspace build steps once crates exist

FROM debian:bookworm-slim
WORKDIR /app
COPY --from=builder /app/target/release/api /usr/local/bin/api
EXPOSE 6813
CMD ["/usr/local/bin/api"]
