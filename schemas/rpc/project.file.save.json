{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "project.file.save parameters",
  "type": "object",
  "additionalProperties": false,
  "required": ["project_id", "path", "data"],
  "properties": {
    "project_id": {
      "type": "string",
      "format": "uuid",
      "description": "Project identifier that owns the file."
    },
    "path": {
      "type": "string",
      "minLength": 1,
      "maxLength": 512,
      "pattern": "^(?!/)(?!.*\\.\\.)(?!.*//).+",
      "description": "Relative file path within the project workspace."
    },
    "data": {
      "type": "string",
      "minLength": 1,
      "contentEncoding": "base64",
      "description": "Binary file payload encoded with base64."
    },
    "encoding": {
      "type": "string",
      "enum": ["base64"],
      "description": "Currently only base64 payloads are supported."
    },
    "message": {
      "type": "string",
      "maxLength": 512,
      "description": "Optional human readable note captured in the activity log."
    }
  }
}
